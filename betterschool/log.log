{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'NativeTopology'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'topology' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'NativeTopology'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'topology' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'NativeTopology'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'topology' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:1123:12)\n    at ServerResponse.json (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:260:14)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:158:21)\n    at module.exports.getStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:10:9)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"ok":0,"code":9,"codeName":"FailedToParse","name":"MongoError","level":"error","message":"Failed to parse: { find: \"students\", filter: { melliCode: null, lastName: null }, projection: { __v: 0, password: 0 }, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"1073e22a-ca6b-43d3-9e82-ab9ebcda6a14\") }, $db: \"betterSchool\" }. 'limit' field must be numeric. Failed to parse: { find: \"students\", filter: { melliCode: null, lastName: null }, projection: { __v: 0, password: 0 }, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"1073e22a-ca6b-43d3-9e82-ab9ebcda6a14\") }, $db: \"betterSchool\" }. 'limit' field must be numeric.","stack":"MongoError: Failed to parse: { find: \"students\", filter: { melliCode: null, lastName: null }, projection: { __v: 0, password: 0 }, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"1073e22a-ca6b-43d3-9e82-ab9ebcda6a14\") }, $db: \"betterSchool\" }. 'limit' field must be numeric.\n    at MessageStream.messageHandler (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\connection.js:272:20)\n    at MessageStream.emit (events.js:314:20)\n    at processIncomingData (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:144:12)\n    at MessageStream._write (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:42:5)\n    at doWrite (_stream_writable.js:403:12)\n    at writeOrBuffer (_stream_writable.js:387:5)\n    at MessageStream.Writable.write (_stream_writable.js:318:11)\n    at Socket.ondata (_stream_readable.js:719:22)\n    at Socket.emit (events.js:314:20)\n    at addChunk (_stream_readable.js:298:12)\n    at readableAddChunk (_stream_readable.js:273:9)\n    at Socket.Readable.push (_stream_readable.js:214:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)"}
{"level":"error","message":"Parameter \"filter\" to find() must be an object, got 1810558948 Parameter \"filter\" to find() must be an object, got 1810558948","stack":"ObjectParameterError: Parameter \"filter\" to find() must be an object, got 1810558948\n    at model.Query.Query.find (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:2098:16)\n    at Function.find (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:2156:13)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:10:38)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"Parameter \"filter\" to find() must be an object, got 1810558948 Parameter \"filter\" to find() must be an object, got 1810558948","stack":"ObjectParameterError: Parameter \"filter\" to find() must be an object, got 1810558948\n    at model.Query.Query.find (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:2098:16)\n    at Function.find (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:2156:13)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:10:38)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:15:22)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:15:22)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:15:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:17:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:17:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:17:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:17:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:17:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"genToken is not defined genToken is not defined","stack":"ReferenceError: genToken is not defined\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:17:9)"}
{"level":"error","message":"Jwt is not defined Jwt is not defined","stack":"ReferenceError: Jwt is not defined\n    at module.exports.headmaster (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:5:26)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:284:7"}
{"level":"error","message":"token is not defined token is not defined","stack":"ReferenceError: token is not defined\n    at module.exports.headmaster (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:5:43)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:284:7"}
{"name":"JsonWebTokenError","message":"invalid signature invalid signature","level":"error","stack":"JsonWebTokenError: invalid signature\n    at D:\\project\\betterschool\\node_modules\\jsonwebtoken\\verify.js:133:19\n    at getSecret (D:\\project\\betterschool\\node_modules\\jsonwebtoken\\verify.js:90:14)\n    at Object.module.exports [as verify] (D:\\project\\betterschool\\node_modules\\jsonwebtoken\\verify.js:94:10)\n    at module.exports.headmaster (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:5:36)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)"}
{"errors":{"grade":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"grade","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"grade\""},"name":{"name":"ValidatorError","message":"Path `name` is required.","properties":{"message":"Path `name` is required.","type":"required","path":"name"},"kind":"required","path":"name"},"lastName":{"name":"ValidatorError","message":"Path `lastName` is required.","properties":{"message":"Path `lastName` is required.","type":"required","path":"lastName"},"kind":"required","path":"lastName"},"melliCode":{"name":"ValidatorError","message":"Path `melliCode` is required.","properties":{"message":"Path `melliCode` is required.","type":"required","path":"melliCode"},"kind":"required","path":"melliCode"},"fathersName":{"name":"ValidatorError","message":"Path `fathersName` is required.","properties":{"message":"Path `fathersName` is required.","type":"required","path":"fathersName"},"kind":"required","path":"fathersName"}},"_message":"student validation failed","level":"error","message":"student validation failed: grade: Cast to Number failed for value \"NaN\" (type number) at path \"grade\", name: Path `name` is required., lastName: Path `lastName` is required., melliCode: Path `melliCode` is required., fathersName: Path `fathersName` is required. student validation failed: grade: Cast to Number failed for value \"NaN\" (type number) at path \"grade\", name: Path `name` is required., lastName: Path `lastName` is required., melliCode: Path `melliCode` is required., fathersName: Path `fathersName` is required.","stack":"ValidationError: student validation failed: grade: Cast to Number failed for value \"NaN\" (type number) at path \"grade\", name: Path `name` is required., lastName: Path `lastName` is required., melliCode: Path `melliCode` is required., fathersName: Path `fathersName` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertStudent (D:\\project\\betterschool\\handler\\student\\command\\StudentCommand.js:5:28)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.headmaster (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:9:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"ok":0,"code":9,"codeName":"FailedToParse","name":"MongoError","level":"error","message":"Failed to parse: { find: \"teachers\", filter: { lastName: /(?:)/, melliCode: /(?:)/ }, projection: {}, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"0c5660fe-1445-4bcb-9cf6-174153d39d51\") }, $db: \"betterSchool\" }. 'limit' field must be numeric. Failed to parse: { find: \"teachers\", filter: { lastName: /(?:)/, melliCode: /(?:)/ }, projection: {}, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"0c5660fe-1445-4bcb-9cf6-174153d39d51\") }, $db: \"betterSchool\" }. 'limit' field must be numeric.","stack":"MongoError: Failed to parse: { find: \"teachers\", filter: { lastName: /(?:)/, melliCode: /(?:)/ }, projection: {}, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"0c5660fe-1445-4bcb-9cf6-174153d39d51\") }, $db: \"betterSchool\" }. 'limit' field must be numeric.\n    at MessageStream.messageHandler (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\connection.js:272:20)\n    at MessageStream.emit (events.js:314:20)\n    at processIncomingData (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:144:12)\n    at MessageStream._write (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:42:5)\n    at doWrite (_stream_writable.js:403:12)\n    at writeOrBuffer (_stream_writable.js:387:5)\n    at MessageStream.Writable.write (_stream_writable.js:318:11)\n    at Socket.ondata (_stream_readable.js:719:22)\n    at Socket.emit (events.js:314:20)\n    at addChunk (_stream_readable.js:298:12)\n    at readableAddChunk (_stream_readable.js:273:9)\n    at Socket.Readable.push (_stream_readable.js:214:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)"}
{"ok":0,"code":9,"codeName":"FailedToParse","name":"MongoError","level":"error","message":"Failed to parse: { find: \"teachers\", filter: { lastName: /(?:)/, melliCode: /(?:)/ }, projection: {}, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"0c5660fe-1445-4bcb-9cf6-174153d39d51\") }, $db: \"betterSchool\" }. 'limit' field must be numeric. Failed to parse: { find: \"teachers\", filter: { lastName: /(?:)/, melliCode: /(?:)/ }, projection: {}, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"0c5660fe-1445-4bcb-9cf6-174153d39d51\") }, $db: \"betterSchool\" }. 'limit' field must be numeric.","stack":"MongoError: Failed to parse: { find: \"teachers\", filter: { lastName: /(?:)/, melliCode: /(?:)/ }, projection: {}, limit: \"12\", returnKey: false, showRecordId: false, lsid: { id: UUID(\"0c5660fe-1445-4bcb-9cf6-174153d39d51\") }, $db: \"betterSchool\" }. 'limit' field must be numeric.\n    at MessageStream.messageHandler (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\connection.js:272:20)\n    at MessageStream.emit (events.js:314:20)\n    at processIncomingData (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:144:12)\n    at MessageStream._write (D:\\project\\betterschool\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:42:5)\n    at doWrite (_stream_writable.js:403:12)\n    at writeOrBuffer (_stream_writable.js:387:5)\n    at MessageStream.Writable.write (_stream_writable.js:318:11)\n    at Socket.ondata (_stream_readable.js:719:22)\n    at Socket.emit (events.js:314:20)\n    at addChunk (_stream_readable.js:298:12)\n    at readableAddChunk (_stream_readable.js:273:9)\n    at Socket.Readable.push (_stream_readable.js:214:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)"}
{"errors":{"name":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\" semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:5:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"name":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\" semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:11:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"name":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\" semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:13:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"allSemester.size is not a function allSemester.size is not a function","stack":"TypeError: allSemester.size is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:6:20)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"name":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\" semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:13:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"name":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\" semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:14:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"allSemester.size is not a function allSemester.size is not a function","stack":"TypeError: allSemester.size is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:5:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"allSemester.size is not a function allSemester.size is not a function","stack":"TypeError: allSemester.size is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:5:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"name":{"stringValue":"\"NaN\"","valueType":"number","kind":"Number","value":null,"path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"NaN\" (type number) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\" semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"NaN\" (type number) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:14:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"name":{"stringValue":"\"[object Object]1\"","valueType":"string","kind":"Number","value":"[object Object]1","path":"name","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"[object Object]1\" (type string) at path \"name\""}},"_message":"semester validation failed","level":"error","message":"semester validation failed: name: Cast to Number failed for value \"[object Object]1\" (type string) at path \"name\" semester validation failed: name: Cast to Number failed for value \"[object Object]1\" (type string) at path \"name\"","stack":"ValidationError: semester validation failed: name: Cast to Number failed for value \"[object Object]1\" (type string) at path \"name\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:14:29)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"se is not defined se is not defined","stack":"ReferenceError: se is not defined\n    at module.exports.needSemester (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:17:17)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.headmaster (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:9:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"semesterName":{"name":"ValidatorError","message":"Path `semesterName` is required.","properties":{"message":"Path `semesterName` is required.","type":"required","path":"semesterName"},"kind":"required","path":"semesterName"}},"_message":"class validation failed","level":"error","message":"class validation failed: semesterName: Path `semesterName` is required. class validation failed: semesterName: Path `semesterName` is required.","stack":"ValidationError: class validation failed: semesterName: Path `semesterName` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"errors":{"semesterName":{"name":"ValidatorError","message":"Path `semesterName` is required.","properties":{"message":"Path `semesterName` is required.","type":"required","path":"semesterName"},"kind":"required","path":"semesterName"}},"_message":"class validation failed","level":"error","message":"class validation failed: semesterName: Path `semesterName` is required. class validation failed: semesterName: Path `semesterName` is required.","stack":"ValidationError: class validation failed: semesterName: Path `semesterName` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"errors":{"semesterName":{"name":"ValidatorError","message":"Path `semesterName` is required.","properties":{"message":"Path `semesterName` is required.","type":"required","path":"semesterName"},"kind":"required","path":"semesterName"}},"_message":"class validation failed","level":"error","message":"class validation failed: semesterName: Path `semesterName` is required. class validation failed: semesterName: Path `semesterName` is required.","stack":"ValidationError: class validation failed: semesterName: Path `semesterName` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"errors":{"semesterName":{"name":"ValidatorError","message":"Path `semesterName` is required.","properties":{"message":"Path `semesterName` is required.","type":"required","path":"semesterName"},"kind":"required","path":"semesterName"}},"_message":"class validation failed","level":"error","message":"class validation failed: semesterName: Path `semesterName` is required. class validation failed: semesterName: Path `semesterName` is required.","stack":"ValidationError: class validation failed: semesterName: Path `semesterName` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"level":"error","message":"Cannot read property 'name' of undefined Cannot read property 'name' of undefined","stack":"TypeError: Cannot read property 'name' of undefined\n    at module.exports.getSemester (D:\\project\\betterschool\\handler\\semester\\query\\SemesterQuery.js:8:31)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"prSemester is not defined prSemester is not defined","stack":"ReferenceError: prSemester is not defined\n    at module.exports.getSemester (D:\\project\\betterschool\\handler\\semester\\query\\SemesterQuery.js:7:20)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY/jMM/jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:43\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"timeStart":{"name":"ValidatorError","message":"Path `timeStart` is required.","properties":{"message":"Path `timeStart` is required.","type":"required","path":"timeStart"},"kind":"required","path":"timeStart"},"dayStart":{"name":"ValidatorError","message":"Path `dayStart` is required.","properties":{"message":"Path `dayStart` is required.","type":"required","path":"dayStart"},"kind":"required","path":"dayStart"}},"_message":"class validation failed","level":"error","message":"class validation failed: timeStart: Path `timeStart` is required., dayStart: Path `dayStart` is required. class validation failed: timeStart: Path `timeStart` is required., dayStart: Path `dayStart` is required.","stack":"ValidationError: class validation failed: timeStart: Path `timeStart` is required., dayStart: Path `dayStart` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"errors":{"timeStart":{"name":"ValidatorError","message":"Path `timeStart` is required.","properties":{"message":"Path `timeStart` is required.","type":"required","path":"timeStart"},"kind":"required","path":"timeStart"},"dayStart":{"name":"ValidatorError","message":"Path `dayStart` is required.","properties":{"message":"Path `dayStart` is required.","type":"required","path":"dayStart"},"kind":"required","path":"dayStart"}},"_message":"class validation failed","level":"error","message":"class validation failed: timeStart: Path `timeStart` is required., dayStart: Path `dayStart` is required. class validation failed: timeStart: Path `timeStart` is required., dayStart: Path `dayStart` is required.","stack":"ValidationError: class validation failed: timeStart: Path `timeStart` is required., dayStart: Path `dayStart` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"expose":true,"statusCode":400,"status":400,"body":"{\r\n    \"id\":\"scsd\"\r\n    \"classes\":[]\r\n}","type":"entity.parse.failed","level":"error","message":"Unexpected string in JSON at position 24 Unexpected string in JSON at position 24","stack":"SyntaxError: Unexpected string in JSON at position 24\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\betterschool\\node_modules\\body-parser\\lib\\types\\json.js:89:19)\n    at D:\\project\\betterschool\\node_modules\\body-parser\\lib\\read.js:121:18\n    at invokeCallback (D:\\project\\betterschool\\node_modules\\raw-body\\index.js:224:16)\n    at done (D:\\project\\betterschool\\node_modules\\raw-body\\index.js:213:7)\n    at IncomingMessage.onEnd (D:\\project\\betterschool\\node_modules\\raw-body\\index.js:273:7)\n    at IncomingMessage.emit (events.js:314:20)\n    at endReadableNT (_stream_readable.js:1223:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)"}
{"errors":{"teacher":{"name":"ValidatorError","message":"Path `teacher` is required.","properties":{"message":"Path `teacher` is required.","type":"required","path":"teacher"},"kind":"required","path":"teacher"}},"_message":"class validation failed","level":"error","message":"class validation failed: teacher: Path `teacher` is required. class validation failed: teacher: Path `teacher` is required.","stack":"ValidationError: class validation failed: teacher: Path `teacher` is required.\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2552:17\n    at D:\\project\\betterschool\\node_modules\\mongoose\\lib\\schematype.js:1273:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:16:24\n    at Array.map (<anonymous>)\n    at module.exports.getTeachers (D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:15:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:16:24\n    at Array.map (<anonymous>)\n    at module.exports.getTeachers (D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:15:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:16:24\n    at Array.map (<anonymous>)\n    at module.exports.getTeachers (D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:15:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:16:24\n    at Array.map (<anonymous>)\n    at module.exports.getTeachers (D:\\project\\betterschool\\handler\\teacher\\query\\TeacherQuery.js:15:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.lean is not a function students.lean is not a function","stack":"TypeError: students.lean is not a function\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:47:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'filter' of undefined Cannot read property 'filter' of undefined","stack":"TypeError: Cannot read property 'filter' of undefined\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:47:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.lean is not a function students.lean is not a function","stack":"TypeError: students.lean is not a function\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:46:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.lean is not a function students.lean is not a function","stack":"TypeError: students.lean is not a function\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:46:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.lean is not a function students.lean is not a function","stack":"TypeError: students.lean is not a function\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:46:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.lean is not a function students.lean is not a function","stack":"TypeError: students.lean is not a function\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:46:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"stringValue":"\"NaN\"","kind":"Number","value":null,"path":"grade","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"valueType":"number","level":"error","message":"Cast to Number failed for value \"NaN\" (type number) at path \"grade\" for model \"student\" Cast to Number failed for value \"NaN\" (type number) at path \"grade\" for model \"student\"","stack":"CastError: Cast to Number failed for value \"NaN\" (type number) at path \"grade\" for model \"student\"\n    at model.Query.exec (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:4498:21)\n    at model.Query.Query.then (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:4592:15)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"comparator is not a function comparator is not a function","stack":"TypeError: comparator is not a function\n    at arrayIncludesWith (D:\\project\\betterschool\\node_modules\\lodash\\lodash.js:631:11)\n    at baseDifference (D:\\project\\betterschool\\node_modules\\lodash\\lodash.js:2844:19)\n    at Function.<anonymous> (D:\\project\\betterschool\\node_modules\\lodash\\lodash.js:7082:11)\n    at apply (D:\\project\\betterschool\\node_modules\\lodash\\lodash.js:489:27)\n    at Function.differenceWith (D:\\project\\betterschool\\node_modules\\lodash\\lodash.js:6627:16)\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:49:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.lean is not a function students.lean is not a function","stack":"TypeError: students.lean is not a function\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:54:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"kiiir is not defined kiiir is not defined","stack":"ReferenceError: kiiir is not defined\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:60:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"kiiir is not defined kiiir is not defined","stack":"ReferenceError: kiiir is not defined\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:64:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"finalList is not defined finalList is not defined","stack":"ReferenceError: finalList is not defined\n    at module.exports.getAllStudents (D:\\project\\betterschool\\handler\\student\\query\\StudentQuery.js:52:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:771:10)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:158:21)\n    at module.exports.getSemester (D:\\project\\betterschool\\handler\\semester\\query\\SemesterQuery.js:13:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:771:10)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:158:21)\n    at module.exports.getSemester (D:\\project\\betterschool\\handler\\semester\\query\\SemesterQuery.js:13:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:18:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:18:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:18:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"student is not defined student is not defined","stack":"ReferenceError: student is not defined\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:18:19)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"grade is not defined grade is not defined","stack":"ReferenceError: grade is not defined\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:18:19)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"stringValue":"\"$.grade+1\"","kind":"Number","value":"$.grade+1","path":"grade","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"valueType":"string","level":"error","message":"Cast to Number failed for value \"$.grade+1\" (type string) at path \"grade\" Cast to Number failed for value \"$.grade+1\" (type string) at path \"grade\"","stack":"CastError: Cast to Number failed for value \"$.grade+1\" (type string) at path \"grade\"\n    at model.Query.exec (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:4498:21)\n    at model.Query.Query.then (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:4592:15)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:18:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:19:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.map(...).save is not a function levelUpStudents.map(...).save is not a function","stack":"TypeError: levelUpStudents.map(...).save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:17:52)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.map(...).save is not a function levelUpStudents.map(...).save is not a function","stack":"TypeError: levelUpStudents.map(...).save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:17:76)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:19:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:19:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"levelUpStudents.save is not a function levelUpStudents.save is not a function","stack":"TypeError: levelUpStudents.save is not a function\n    at module.exports.insertSemester (D:\\project\\betterschool\\handler\\semester\\command\\SemesterCommand.js:19:27)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:771:10)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:170:12)\n    at ServerResponse.json (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:267:15)\n    at ServerResponse.send (D:\\project\\betterschool\\node_modules\\express\\lib\\response.js:158:21)\n    at module.exports.getMoveStudentSingle (D:\\project\\betterschool\\handler\\classContainer\\query\\ClassContainerQuery.js:30:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'students' of null Cannot read property 'students' of null","stack":"TypeError: Cannot read property 'students' of null\n    at module.exports.moveStudent (D:\\project\\betterschool\\handler\\classContainer\\command\\ClassContainerCommand.js:34:19)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:778:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:12:22\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:778:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:12:22\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:778:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:12:22\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:10:21\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:10:21\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid Jalali year -100721 Invalid Jalali year -100721","stack":"Error: Invalid Jalali year -100721\n    at jalCal (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1239:15)\n    at d2j (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1301:15)\n    at convertToJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1191:12)\n    at toJalali (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:1159:13)\n    at getJalaliOf (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:780:16)\n    at F.jMoment.fn.jYear (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:735:16)\n    at F.jYYYY (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:62:34)\n    at Object.jYYYY-jMM-jDD (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:312:69)\n    at F.jMoment.fn.format (D:\\project\\betterschool\\node_modules\\jalali-moment\\jalali-moment.js:713:41)\n    at module.exports.convertToShamsi (D:\\project\\betterschool\\utility\\dateUtility.js:4:52)\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:12:36\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"c.firstFinalExam.length is not a function c.firstFinalExam.length is not a function","stack":"TypeError: c.firstFinalExam.length is not a function\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:12:26\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"c.firstFinalExam.length is not a function c.firstFinalExam.length is not a function","stack":"TypeError: c.firstFinalExam.length is not a function\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:12:26\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'length' of null Cannot read property 'length' of null","stack":"TypeError: Cannot read property 'length' of null\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:13:21\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'length' of null Cannot read property 'length' of null","stack":"TypeError: Cannot read property 'length' of null\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:13:21\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'length' of null Cannot read property 'length' of null","stack":"TypeError: Cannot read property 'length' of null\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:13:21\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'length' of undefined Cannot read property 'length' of undefined","stack":"TypeError: Cannot read property 'length' of undefined\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:24:43\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'isNull' of null Cannot read property 'isNull' of null","stack":"TypeError: Cannot read property 'isNull' of null\n    at D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:13:22\n    at Array.map (<anonymous>)\n    at module.exports.getClasses (D:\\project\\betterschool\\handler\\class\\query\\ClassQuery.js:8:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:35:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:144:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:133:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:21:52)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:144:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:133:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:21:52)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:144:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:133:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:21:52)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:144:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:133:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:21:52)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:144:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.hash (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:133:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:21:52)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:35:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:35:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at Object.module.exports.promise (D:\\project\\betterschool\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (D:\\project\\betterschool\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (D:\\project\\betterschool\\handler\\Login.js:35:42)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'userId' of null Cannot read property 'userId' of null","stack":"TypeError: Cannot read property 'userId' of null\n    at module.exports.getClassesTeacher (D:\\project\\betterschool\\handler\\class\\query\\TeacherClassQuery.js:3:26)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.needSemester (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:18:5)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.teacher (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:28:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'userId' of null Cannot read property 'userId' of null","stack":"TypeError: Cannot read property 'userId' of null\n    at module.exports.getClassesTeacher (D:\\project\\betterschool\\handler\\class\\query\\TeacherClassQuery.js:3:26)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.needSemester (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:18:5)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.teacher (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:28:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'userId' of null Cannot read property 'userId' of null","stack":"TypeError: Cannot read property 'userId' of null\n    at module.exports.getClassesTeacher (D:\\project\\betterschool\\handler\\class\\query\\TeacherClassQuery.js:5:26)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.needSemester (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:18:5)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.teacher (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:28:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.map is not a function students.map is not a function","stack":"TypeError: students.map is not a function\n    at module.exports.getClassesStudent (D:\\project\\betterschool\\handler\\classContainer\\query\\TeacherStudentQuery.js:8:25)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"students.map is not a function students.map is not a function","stack":"TypeError: students.map is not a function\n    at module.exports.getClassesStudent (D:\\project\\betterschool\\handler\\classContainer\\query\\TeacherStudentQuery.js:8:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid sort() argument, must be array of arrays Invalid sort() argument, must be array of arrays","stack":"Error: Invalid sort() argument, must be array of arrays\n    at model.Query.Query.sort (D:\\project\\betterschool\\node_modules\\mquery\\lib\\mquery.js:1255:15)\n    at model.Query.Query.sort (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:2685:26)\n    at module.exports.getAttendance (D:\\project\\betterschool\\handler\\attendance\\query\\attendanceQuery.js:6:35)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.teacher (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:28:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Invalid sort() argument, must be array of arrays Invalid sort() argument, must be array of arrays","stack":"Error: Invalid sort() argument, must be array of arrays\n    at model.Query.Query.sort (D:\\project\\betterschool\\node_modules\\mquery\\lib\\mquery.js:1255:15)\n    at model.Query.Query.sort (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\query.js:2685:26)\n    at module.exports.getAttendance (D:\\project\\betterschool\\handler\\attendance\\query\\attendanceQuery.js:6:35)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.teacher (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:28:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"errors":{"startTime":{"stringValue":"\"14:20\"","valueType":"string","kind":"date","value":"14:20","path":"startTime","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to date failed for value \"14:20\" (type string) at path \"startTime\""}},"_message":"exam validation failed","level":"error","name":"ValidationError","message":"exam validation failed: startTime: Cast to date failed for value \"14:20\" (type string) at path \"startTime\""}
{"errors":{"startTime":{"stringValue":"\"14:20\"","valueType":"string","kind":"date","value":"14:20","path":"startTime","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to date failed for value \"14:20\" (type string) at path \"startTime\""}},"_message":"exam validation failed","level":"error","message":"exam validation failed: startTime: Cast to date failed for value \"14:20\" (type string) at path \"startTime\" exam validation failed: startTime: Cast to date failed for value \"14:20\" (type string) at path \"startTime\"","stack":"ValidationError: exam validation failed: startTime: Cast to date failed for value \"14:20\" (type string) at path \"startTime\"\n    at model.Document.invalidate (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:2760:32)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1327:12)\n    at model.$set (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:1036:16)\n    at model.Document (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\document.js:148:12)\n    at model.Model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:105:12)\n    at new model (D:\\project\\betterschool\\node_modules\\mongoose\\lib\\model.js:4905:15)\n    at module.exports.insertExam (D:\\project\\betterschool\\handler\\exam\\command\\ExamCommand.js:8:25)\n    at newFn (D:\\project\\betterschool\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\betterschool\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports.teacher (D:\\project\\betterschool\\middlewares\\AuthMiddleware.js:28:9)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'students' of null Cannot read property 'students' of null","stack":"TypeError: Cannot read property 'students' of null\n    at module.exports.getClassesStudent (D:\\project\\betterschool\\handler\\classContainer\\query\\TeacherStudentQuery.js:8:14)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'students' of null Cannot read property 'students' of null","stack":"TypeError: Cannot read property 'students' of null\n    at module.exports.getClassesStudent (D:\\project\\betterschool\\handler\\classContainer\\query\\TeacherStudentQuery.js:8:14)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'length' of undefined Cannot read property 'length' of undefined","stack":"TypeError: Cannot read property 'length' of undefined\n    at D:\\project\\betterschool\\handler\\exam\\query\\ExamQuery.js:35:35\n    at Array.map (<anonymous>)\n    at module.exports.getAllClassExam (D:\\project\\betterschool\\handler\\exam\\query\\ExamQuery.js:32:11)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
{"level":"error","message":"Cannot read property 'length' of undefined Cannot read property 'length' of undefined","stack":"TypeError: Cannot read property 'length' of undefined\n    at D:\\project\\betterschool\\handler\\exam\\query\\ExamQuery.js:35:35\n    at Array.map (<anonymous>)\n    at module.exports.getAllClassExam (D:\\project\\betterschool\\handler\\exam\\query\\ExamQuery.js:32:11)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}
